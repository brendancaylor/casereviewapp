
@{
    ViewBag.Title = "Case Review Types";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div style="display: none;" data-bind='visible: isBound'>

    <div class="row">
        <div class="col-sm-4" style="margin: 30px 0;">

                <button type="button" class="btn btn-lg btn-success"
                         data-bind='click: swapEditMode, visible: !isEditMode()'
                        >Edit this list</button>

                <button type="button" class="btn btn-lg btn-success"
                        data-bind='click: swapEditMode, visible: isEditMode'>
                    Done
                </button>

<!--                
    
    -->
                <!--
                <i class="fa fa-3x fa-pencil-square-o cursorPointer text-success" aria-hidden="true" data-bind='click: swapEditMode, visible: !isEditMode()'></i>
                <i class="fa fa-3x fa-check-square-o cursorPointer text-success" aria-hidden="true" data-bind='click: swapEditMode, visible: isEditMode'></i>
                <i class="fa fa-3x fa-plus-square-o cursorPointer text-success" aria-hidden="true" data-bind='click: swapEditMode, visible: isEditMode'></i>
                    -->
        </div>
    </div>
    <div class="row">
        <div class="col-sm-4">

            <div class="input-group" data-bind="visible: isEditMode">
                <input type="text" id="inpAddCaseType" class="form-control" placeholder="Add a new type">
                <span class="input-group-btn">
                    <button type="button" class="btn btn-success" onclick="addNewCaseType();">

                        <i class="fa fa-plus cursorPointer" aria-hidden="true"></i>

                    </button>
                </span>
            </div>

            <ul class="list-group" data-bind="foreach: SortedCaseReviewTypes, visible: !$root.isEditMode()">
                <li class="list-group-item " data-bind="css: {'disabled' : !IsActive() }">
                    <span data-bind="text: TypeName"></span>
                </li>
            </ul>
            

            <ul class="list-group" id="sortable" data-bind="visible: $root.isEditMode">

                <!-- ko foreach: CaseReviewTypes -->

                    <li class="list-group-item sortableLi " data-bind="attr: {'id': ID()}">

                        <label class="styledCheckBoxLabel" 
                               data-bind="css: IsActive() ? 'on' : '' ">
                            <input type="checkbox" data-bind="checked: IsActive" />
                        </label>

                        <span data-bind="text: TypeName"></span>
                        
                        <span class="pull-right">
                            <i class="fa fa-bars" aria-hidden="true"></i>
                        </span>

                    </li>

                <!-- /ko -->

            </ul>
        </div>
    </div>

</div>

@section Scripts {

<script type="text/javascript">
var localData = @Html.Raw(ViewBag.Json);
</script>
        
<script src="~/Scripts/app/viewModels/app.viewmodel.casereviewtypes.js"></script>
<script src="~/Scripts/app/views/app.view.casereviewtypes.js"></script>
}